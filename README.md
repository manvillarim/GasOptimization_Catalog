# GAS OPTIMIZATION CATALOG

This repository contains a series of transformations and techniques that aim to optimize gas consumption in solidity smart contracts.

| Transformation | Example | Proof of Correctness | Source |
|---|---|---|---|
| Replace require with custom errors | [example](examples/replace-require-with-custom-errors.md) | verificar | [source](https://soliditylang.org/blog/2021/04/21/custom-errors/) |
| Refactoring loops with repeated storage calls | [example](examples/refactoring-loops-with-repeated-storage-calls.md) | verificar | [source](https://www.cs.toronto.edu/~fanl/papers/gas-brain21.pdf) |
| Refactoring loops with a constant comparison | [example](examples/refactoring-loops-with-a-constant-comparison.md) | verificar | [source](https://www.cs.toronto.edu/~fanl/papers/gas-brain21.pdf) |
| Refactoring loops with repeated computations | [example](examples/refactoring-loops-with-repeated-computations.md) | verificar | [source](https://www.cs.toronto.edu/~fanl/papers/gas-brain21.pdf) |
| Struct Packing | [example](examples/struct-packing.md) | verificar | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| State Variable Packing | [example](examples/state-variable-packing.md) | verificar | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Boolean Packing | [example](examples/boolean-packing.md) | [Proof](certora/boolean-packing/boolean-packing.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use fixed-size arrays instead of dynamic arrays | [example](examples/fixed-size-arrays.md) | [Proof](certora/fixed-size-arrays/fixed-size-arrays.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Avoid explicit zero initialization | [example](examples/avoid-zero-initialization.md) | [Proof](certora/avoid-zero-initialization/avoid-zero-initialization.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use calldata instead of memory for function parameters | [example](examples/calldata-vs-memory.md) | [Proof](certora/calldata-vs-memory/calldata-vs-memory.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Delete unused storage variables | [example](examples/delete-storage-variables.md) | [Proof](certora/delete-storage-variables/delete-storage-variables.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use appropriate function visibility | [example](examples/function-visibility.md) | [Proof](certora/function-visibility/function-visibility.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use constant variables for unchanging values | [example](examples/constant-variables.md) | [Proof](certora/constant-variables/constant-variables.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use immutable variables for constructor-set values | [example](examples/immutable-variables.md) | [Proof](certora/immutable-variables/immutable-variables.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Reduce mathematical expressions | [example](examples/reduce-expressions.md) | [Proof](certora/reduce-expressions/reduce-expressions.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use short-circuiting for conditional expressions | [example](examples/short-circuiting.md) | [Proof](certora/short-circuiting/short-circuiting.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Write values directly instead of calculating | [example](examples/write-values-directly.md) | [Proof](certora/write-values-directly/write-values-directly.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use single-line variable swapping | [example](examples/single-line-swap.md) | [Proof](certora/single-line-swap/single-line-swap.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Limit number of functions | [example](examples/limit-functions.md) | [Proof](certora/limit-functions/limit-functions.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Limit number of modifiers | [example](examples/limit-modifiers.md) | [Proof](certora/limit-modifiers/limit-modifiers.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Avoid nested loops | [example](examples/avoid-nested-loops.md) | [Proof](certora/avoid-nested-loops/avoid-nested-loops.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Combine multiple loops into one | [example](examples/combine-loops.md) | [Proof](certora/combine-loops/combine-loops.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Avoid repetitive arithmetic operations in loops | [example](examples/avoid-arithmetic-in-loops.md) | [Proof](certora/avoid-arithmetic-in-loops/avoid-arithmetic-in-loops.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Cache storage variables in loops | [example](examples/cache-storage-variables.md) | [Proof](certora/cache-storage-variables/cache-storage-variables.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Cache array member variables | [example](examples/cache-member-variables.md) | [Proof](certora/cache-member-variables/cache-member-variables-verification.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Cache array length in loops | [example](examples/cache-array-length.md) | [Proof](certora/cache-array-length/cache-array-length.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use efficient loop increment (++ instead of +=1) | [example](examples/efficient-loop-increment.md) | [Proof](certora/efficient-loop-increment/efficient-loop-increment-verification.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use mappings instead of arrays for data lists | [example](examples/mappings-vs-arrays.md) | [Proof](certora/mappings-vs-arrays/mappings-vs-arrays.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |