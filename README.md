# GAS OPTIMIZATION CATALOG

This repository contains a series of transformations and techniques that aim to optimize gas consumption in solidity smart contracts.

To view the AAVE V3 case study, click [here](case-study/CASESTUDY.md).

| Transformation | Definition | CVL Specification | Source |
|---|---|---|---|
| Replace require with custom errors | [definition](definition/solidity_transformações-1.pdf) | [Proof](certora/replace-require-with-custom-errors/replace-require-with-custom-errors.md) | Original |
| Refactoring loops with repeated storage calls | [definition](definition/solidity_transformações-2.pdf) | [Proof](certora/refactoring-loops-with-repeated-storage-calls/refactoring-loops-with-repeated-storage-calls.md) | [source](https://www.cs.toronto.edu/~fanl/papers/gas-brain21.pdf) |
| Refactoring loops with a constant comparison | [definition](definition/solidity_transformações-3.pdf) | [Proof](certora/refactoring-loops-with-a-constant-comparison/refactoring-loops-with-a-constant-comparison.md) | [source](https://www.cs.toronto.edu/~fanl/papers/gas-brain21.pdf) |
| Refactoring loops with repeated computations | [definition](definition/solidity_transformações-4.pdf) | [Proof](certora/refactoring-loops-with-repeated-computations/refactoring-loops-with-repeated-computations.md) | [source](https://www.cs.toronto.edu/~fanl/papers/gas-brain21.pdf) |
| Struct Packing | [definition](definition/solidity_transformações-5.pdf) |[Proof](certora/struct-packing/struct-packing.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| State Variable Packing | [definition](definition/solidity_transformações-6.pdf) | [Proof](certora/state-variable-packing/state-variable-packing.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Boolean Packing | [definition](definition/solidity_transformações-7.pdf) | [Proof](certora/boolean-packing/boolean-packing.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use fixed-size arrays instead of dynamic arrays | [definition](definition/solidity_transformações-8.pdf) | [Proof](certora/fixed-size-arrays/fixed-size-arrays.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Avoid explicit zero initialization | [definition](definition/solidity_transformações-9.pdf) | [Proof](certora/avoid-zero-initialization/avoid-zero-initialization.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use calldata instead of memory for function parameters | [definition](definition/solidity_transformações-10.pdf) | [Proof](certora/calldata-vs-memory/calldata-vs-memory.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Delete unused storage variables | [definition](definition/solidity_transformações-11.pdf) | [Proof](certora/delete-storage-variables/delete-storage-variables.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use appropriate function visibility | [definition](definition/solidity_transformações-12.pdf) | [Proof](certora/function-visibility/function-visibility.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use constant variables for unchanging values | [definition](definition/solidity_transformações-13.pdf) | [Proof](certora/constant-variables/constant-variables.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use immutable variables for constructor-set values | [definition](definition/solidity_transformações-14.pdf) | [Proof](certora/immutable-variables/immutable-variables.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Reduce mathematical expressions | [definition](definition/solidity_transformações-15.pdf) | [Proof](certora/reduce-expressions/reduce-expressions.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use short-circuiting for conditional expressions | [definition](definition/solidity_transformações-16.pdf) | [Proof](certora/short-circuiting/short-circuiting.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Write values directly instead of calculating | [definition](definition/solidity_transformações-17.pdf) | [Proof](certora/write-values-directly/write-values-directly.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use single-line variable swapping | [definition](definition/solidity_transformações-18.pdf) | [Proof](certora/single-line-swap/single-line-swap.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Limit number of functions | [definition](definition/solidity_transformações-19.pdf) | [Proof](certora/limit-functions/limit-functions.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Ob4EXsQ) |
| Limit number of modifiers | [definition](definition/solidity_transformações-20.pdf) | [Proof](certora/limit-modifiers/limit-modifiers.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Avoid nested loops | [definition](definition/solidity_transformações-21.pdf) | [Proof](certora/avoid-nested-loops/avoid-nested-loops.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Combine multiple loops into one | [definition](definition/solidity_transformações-22.pdf) | [Proof](certora/combine-loops/combine-loops.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Cache storage variables | [definition](definition/solidity_transformações-23.pdf) | [Proof](certora/cache-storage-variables/cache-storage-variables.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Cache array member variables | [definition](definition/solidity_transformações-24.pdf) | [Proof](certora/cache-member-variables/cache-member-variables-verification.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Cache array length in loops | [definition](definition/solidity_transformações-25.pdf) | [Proof](certora/cache-array-length/cache-array-length.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use efficient loop increment (++ instead of +=1) | [definition](definition/solidity_transformações-26.pdf) | [Proof](certora/efficient-loop-increment/efficient-loop-increment-verification.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use mappings instead of arrays for data lists | [definition](definition/solidity_transformações-27.pdf) | [Proof](certora/mappings-vs-arrays/mappings-vs-arrays.md) | [source](https://ieeexplore.ieee.org/abstract/document/10429984?casa_token=sUZr-rcNR6EAAAAA:O7umjAqgUcAn7MeBgEQyHAVLXswsqWxqWRApNnohmvrftoqDah-WVghsCu1jV3ZHdCU5Bb4EXsQ) |
| Use unchecked arithmetic for validated operations  | [definition](definition/solidity_transformações-28.pdf) | [Proof](certora/unchecked/unchecked.md) | Original |
| Redundant Control Flow Removal (Continue)  | [definition](definition/solidity_transformações-29.pdf) | [Proof](certora/continue/continue.md) | Original |
| Redundant Control Flow Removal (Break to Early Return)  | [definition](definition/solidity_transformações-30.pdf) | [Proof](certora/break/break.md) | Original |